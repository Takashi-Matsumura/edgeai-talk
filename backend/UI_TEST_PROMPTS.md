# EdgeAI Talk - UI動作確認用プロンプト集

このドキュメントには、EdgeAI TalkのUIでRAG機能をテストするためのプロンプトが含まれています。

## 🎯 テスト方法

1. ブラウザで http://localhost:3001 を開く
2. ヘッダーの「RAG」トグルを確認（デフォルトON）
3. 以下のプロンプトを順番に試す
4. RAG ON/OFF で回答の違いを確認

---

## 📝 テストプロンプト集

### 🔵 テスト1: 会社基本情報（最も簡単）

#### プロンプト:
```
EdgeAI株式会社の設立日を教えて
```

#### 期待される回答（RAG ON）:
```
EdgeAI株式会社は2020年4月1日に設立されました。
```

#### 期待される回答（RAG OFF）:
```
申し訳ありませんが、EdgeAI株式会社の具体的な設立日については
私の知識にはありません。
```

---

### 🔵 テスト2: 音声認識精度（具体的な数値）

#### プロンプト:
```
EdgeAI Talkの音声認識の精度はどれくらいですか？
```

#### 期待される回答（RAG ON）:
```
EdgeAI Talkの音声認識精度は約95%です。
Web Speech APIを使用しており、静かな環境での使用が推奨されています。
```

#### 期待される回答（RAG OFF）:
```
一般的な音声認識システムでは環境や話者によって精度が変わります。
具体的な数値については不明です。
```

---

### 🔵 テスト3: 技術仕様（専門的な情報）

#### プロンプト:
```
RAGバックエンドで使っているベクトル次元は何次元ですか？
```

#### 期待される回答（RAG ON）:
```
RAGバックエンドでは768次元のベクトルを使用しています。
埋め込みモデルはintfloat/multilingual-e5-baseです。
```

#### 期待される回答（RAG OFF）:
```
RAGバックエンドの具体的なベクトル次元については不明です。
一般的には512次元や768次元が使われることが多いです。
```

---

### 🔵 テスト4: システム要件

#### プロンプト:
```
このアプリのサーバー側で必要なメモリは？
```

#### 期待される回答（RAG ON）:
```
EdgeAI Talkのサーバー側では、8GB以上のメモリが必要です。
推奨は16GBです。
```

#### 期待される回答（RAG OFF）:
```
一般的なNext.jsアプリケーションでは4GB程度のメモリがあれば
動作しますが、具体的な要件については不明です。
```

---

### 🔵 テスト5: 推奨モデル

#### プロンプト:
```
推奨されているLLMモデルは何ですか？
```

#### 期待される回答（RAG ON）:
```
推奨モデルは google/gemma-3n-e4b (3Bパラメータ) です。
- 量子化: 4-bit
- メモリ使用量: 約2GB
- 推論速度: 約20トークン/秒（M1 Max）
```

#### 期待される回答（RAG OFF）:
```
LLMモデルについては様々な選択肢があります。
Llama、Phi、Gemmaなどが一般的に使用されています。
```

---

### 🔵 テスト6: トラブルシューティング

#### プロンプト:
```
音声入力が動かない時はどうすればいい？
```

#### 期待される回答（RAG ON）:
```
音声入力が動作しない場合は以下を確認してください：
1. HTTPS接続を使用しているか
2. マイク許可を承認したか
3. 音声モードがONになっているか
```

#### 期待される回答（RAG OFF）:
```
一般的なトラブルシューティングとして：
- マイクが接続されているか確認
- ブラウザの権限設定を確認
などを試してください。
```

---

### 🔵 テスト7: 会社の代表者情報

#### プロンプト:
```
EdgeAI株式会社の代表取締役は誰ですか？
```

#### 期待される回答（RAG ON）:
```
EdgeAI株式会社の代表取締役は山田太郎氏です。
```

#### 期待される回答（RAG OFF）:
```
EdgeAI株式会社の代表取締役については不明です。
```

---

## 🎨 実施手順

### ステップ1: RAG ONでテスト
1. ヘッダーのRAGトグルが**ON（青色）**になっていることを確認
2. 上記のプロンプトを1つずつ入力
3. 回答に**具体的な数値や固有名詞**が含まれているか確認

### ステップ2: RAG OFFでテスト
1. ヘッダーのRAGトグルを**OFF（グレー）**に切り替え
2. 同じプロンプトを入力
3. 回答が**一般的な内容**や**「不明」**になっているか確認

### ステップ3: 違いを確認
RAG ON と RAG OFF の回答を比較して、以下を確認：
- ✅ RAG ON: ドキュメントの内容が反映されている
- ✅ RAG OFF: 一般的な知識のみで回答している

---

## 📊 成功の判断基準

### ✅ RAG機能が正しく動作している場合

| テスト項目 | RAG ON | RAG OFF |
|-----------|--------|---------|
| 設立日 | 2020年4月1日 | 不明 |
| 音声認識精度 | 約95% | 一般論 |
| ベクトル次元 | 768次元 | 不明 |
| メモリ要件 | 8GB以上(16GB推奨) | 一般論 |
| 推奨モデル | google/gemma-3n-e4b | 一般論 |
| 代表取締役 | 山田太郎 | 不明 |

---

## 🔍 さらに詳細なテスト

### 複数ドキュメントにまたがる質問

#### プロンプト:
```
EdgeAI Talkの対応ブラウザと、会社の所在地を教えて
```

#### 期待される回答（RAG ON）:
```
【対応ブラウザ】
- Safari 14以降（iOS/iPadOS）
- Chrome 90以降
- Edge 90以降
- Firefox 88以降

【会社所在地】
東京都渋谷区桜丘町1-1
```

このように、複数のドキュメントから情報を統合して回答できることを確認します。

---

## 💡 トラブルシューティング

### RAG ONなのに一般的な回答しか返ってこない場合

1. **RAGバックエンドの起動確認**
   ```bash
   curl http://localhost:8000/health
   ```
   正常なら `{"status": "healthy", ...}` が返る

2. **ドキュメント数の確認**
   ```bash
   curl http://localhost:8000/api/documents/count
   ```
   `{"total_chunks": 7}` が返れば正常

3. **ブラウザのコンソールを確認**
   - F12キーを押して開発者ツールを開く
   - Consoleタブでエラーメッセージを確認
   - ネットワークタブで `localhost:8000` への接続を確認

4. **CORS エラーが出る場合**
   - FastAPIバックエンドのCORS設定を確認
   - `main.py` の `allow_origins` に `"http://localhost:3001"` が含まれているか

---

## 📱 モバイルでのテスト

iPad mini や iPhone でテストする場合：

1. **同じネットワークに接続**
2. **MacのIPアドレスを確認**
   ```bash
   ifconfig | grep "inet " | grep -v 127.0.0.1
   ```
3. **モバイルブラウザで接続**
   ```
   https://[MacのIPアドレス]:3000
   ```
4. **証明書の警告を承認**

---

## 🎉 期待される体験

RAG機能が正しく動作している場合：

✅ **RAG ON時**
- まるでドキュメントを読んだかのような具体的な回答
- 数値、固有名詞、日付などが正確
- 「参考資料」への言及がある場合も
- 回答が簡潔で的確

❌ **RAG OFF時**
- 一般的な知識のみで回答
- 「不明です」「公式サイトを確認してください」
- 推測や一般論が多い
- 具体的な情報が欠落

この明確な違いが確認できれば、RAG統合は成功です！
